import{_ as a,o as n,c as e,d as t,a as s,b as p,e as o}from"./app-788fdfee.js";const l={},c=s("h1",{id:"mysql基础-三",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#mysql基础-三","aria-hidden":"true"},"#"),p(" MySQL基础（三）")],-1),r=s("p",null,"MySQL基础笔记系列",-1),k=o(`<h2 id="比较运算符-和" tabindex="-1"><a class="header-anchor" href="#比较运算符-和" aria-hidden="true">#</a> 比较运算符 &gt; &lt; &gt;= &lt;= = !=和&lt;&gt;</h2><ol><li>查询工资在2000以内的员工姓名和工资</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal<span class="token operator">&lt;</span><span class="token number">2000</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询工作job是manager的员工姓名、工资和工作</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">where</span> job<span class="token operator">=</span><span class="token string">&#39;manager&#39;</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>查询员工工资小于等于1600的员工姓名，职位和工资</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal<span class="token operator">&lt;=</span><span class="token number">1600</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>查询不是10号部门的员工姓名，部门编号（两种写法）</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">!=</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">&lt;&gt;</span><span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li>查询单价为23的商品信息（商品表t_item）</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_item <span class="token keyword">where</span> price<span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_item <span class="token keyword">where</span> price<span class="token operator">=</span><span class="token number">23</span> \\G<span class="token punctuation">;</span>
</code></pre></div><ol start="6"><li>查询单价不是8443的商品标题和单价(商品表)</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> title<span class="token punctuation">,</span>price <span class="token keyword">from</span> t_item <span class="token keyword">where</span> price<span class="token operator">!=</span><span class="token number">8443</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="去重-distinct" tabindex="-1"><a class="header-anchor" href="#去重-distinct" aria-hidden="true">#</a> 去重 distinct</h2><ul><li>把关键字distinct写在需要去重的字段前面</li></ul><ol><li>查询员工表有哪些职位job</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span> job <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询员工表中的部门编号有哪些？</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span> deptno <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre></div><h2 id="and-和-or" tabindex="-1"><a class="header-anchor" href="#and-和-or" aria-hidden="true">#</a> and 和 or</h2><ul><li>当需要多个条件同时满足时使用 and</li><li>当多个条件满足一个就行时使用 or</li></ul><ol><li>查询10号部门中工资低于2000的员工信息</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> <span class="token operator">and</span> sal<span class="token operator">&lt;</span><span class="token number">2000</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询30号部门或工资大于3000的员工信息</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">30</span> <span class="token operator">or</span> sal<span class="token operator">&gt;</span><span class="token number">3000</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="模糊查询-like" tabindex="-1"><a class="header-anchor" href="#模糊查询-like" aria-hidden="true">#</a> 模糊查询 like</h2><ul><li>%代表0或多个未知字符</li><li>_代表单个未知字符</li></ul><ol><li>查询名字中包含a的员工姓名</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">&#39;%a%&#39;</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询第二个字符是l的员工姓名和工资</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">&#39;_l%&#39;</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>查询t_item表中 标题中包含记事本的商品标题</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> title <span class="token keyword">from</span> t_item <span class="token keyword">where</span> title <span class="token operator">like</span> <span class="token string">&#39;%记事本%&#39;</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>查询职位中包含an并且工资高于1500的员工姓名、工资、职位</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">where</span> job <span class="token operator">like</span> <span class="token string">&#39;%an%&#39;</span> <span class="token operator">and</span> sal<span class="token operator">&gt;</span><span class="token number">1500</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li>查询有赠品的dell商品详情(卖点sell_point中包含“赠”，并且title包含dell)</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_item <span class="token keyword">where</span> sell_point <span class="token operator">like</span> <span class="token string">&#39;%赠%&#39;</span> <span class="token operator">and</span> title <span class="token operator">like</span> <span class="token string">&#39;%dell%&#39;</span> \\G<span class="token punctuation">;</span>
</code></pre></div><ol start="6"><li>查询单价低于100的笔记本信息（title包含笔记本）</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_item <span class="token keyword">where</span> price<span class="token operator">&lt;</span><span class="token number">100</span> <span class="token operator">and</span> title <span class="token operator">like</span> <span class="token string">&#39;%笔记本%&#39;</span> \\G<span class="token punctuation">;</span>
</code></pre></div><ol start="7"><li>查询有图片的得力商品信息（image字段不为null）</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_item <span class="token keyword">where</span> image <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token operator">and</span> title <span class="token operator">like</span> <span class="token string">&#39;%得力%&#39;</span> \\G<span class="token punctuation">;</span>
</code></pre></div><ol start="8"><li>查询名字中不包含a的员工姓名和工资</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">not</span> <span class="token operator">like</span> <span class="token string">&#39;%a%&#39;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="between-x-and-y-包含x和y" tabindex="-1"><a class="header-anchor" href="#between-x-and-y-包含x和y" aria-hidden="true">#</a> between x and y 包含x和y</h2><ol><li>查询工资在2000到3000之间的员工姓名和工资(要求包含2000和3000)</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal<span class="token operator">&gt;=</span><span class="token number">2000</span> <span class="token operator">and</span> sal<span class="token operator">&lt;=</span><span class="token number">3000</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">between</span> <span class="token number">2000</span> <span class="token operator">and</span> <span class="token number">3000</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询单价在50到100之间的商品标题和单价</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> title<span class="token punctuation">,</span>price <span class="token keyword">from</span> t_item <span class="token keyword">where</span> price <span class="token operator">between</span> <span class="token number">50</span> <span class="token operator">and</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>查询工资在1000到2000之外的员工姓名和工资</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">not</span> <span class="token operator">between</span> <span class="token number">1000</span> <span class="token operator">and</span> <span class="token number">2000</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="in" tabindex="-1"><a class="header-anchor" href="#in" aria-hidden="true">#</a> in</h2><ol><li>查询员工工资为800,1300,1500的员工信息</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal<span class="token operator">=</span><span class="token number">800</span> <span class="token operator">or</span> sal<span class="token operator">=</span><span class="token number">1300</span> <span class="token operator">or</span> sal<span class="token operator">=</span><span class="token number">1500</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span><span class="token number">1300</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询商品价格为56,58,89的商品标题和单价</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> title<span class="token punctuation">,</span>price <span class="token keyword">from</span> t_item <span class="token keyword">where</span> price <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">58</span><span class="token punctuation">,</span><span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>查询工资不等于3000,5000,1500的员工姓名和工资</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">not</span> <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="排序-order-by-字段名" tabindex="-1"><a class="header-anchor" href="#排序-order-by-字段名" aria-hidden="true">#</a> 排序 order by 字段名</h2><ul><li>order by 字段名 asc（升序）/desc（降序）;</li><li>默认升序排序</li></ul><ol><li>查询每个员工的姓名和工资 按照工资降序排序</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询10号部门每个员工的姓名和工资 按照工资升序排序</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> deptno<span class="token operator">=</span><span class="token number">10</span> <span class="token keyword">order</span> <span class="token keyword">by</span> sal<span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>查询有奖金的员工姓名、工资、奖金 按照奖金降序排序</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm <span class="token keyword">from</span> emp <span class="token keyword">where</span> comm<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">order</span> <span class="token keyword">by</span> comm <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>查询单价低于100的商品标题和单价并按照单价升序排序</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> title<span class="token punctuation">,</span>price <span class="token keyword">from</span> t_item <span class="token keyword">where</span> price<span class="token operator">&lt;</span><span class="token number">100</span> <span class="token keyword">order</span> <span class="token keyword">by</span> price<span class="token punctuation">;</span>
</code></pre></div><ul><li>多字段排序 order by 字段1,字段2;<br> select ename,sal,deptno from emp order by deptno,sal desc;</li></ul><ol start="5"><li>查询价格在200以内商品名称，单价，分类id 按照分类id降序排序，如果分类id相同则按照单价升序排序</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> title<span class="token punctuation">,</span>price<span class="token punctuation">,</span>category_id <span class="token keyword">from</span> t_item <span class="token keyword">where</span> price<span class="token operator">&lt;</span><span class="token number">200</span> <span class="token keyword">order</span> <span class="token keyword">by</span> category_id <span class="token keyword">desc</span><span class="token punctuation">,</span>price<span class="token punctuation">;</span>
</code></pre></div><h2 id="分页查询" tabindex="-1"><a class="header-anchor" href="#分页查询" aria-hidden="true">#</a> 分页查询</h2><ul><li>limit 跳过条数,请求条数</li></ul><ol><li>查询每个员工的姓名和工资，按照工资升序排序，请求第三页的两条数据</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">limit</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>请求员工表中工资最高的前三名员工的信息</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="数值计算-7-2-mod-7-2" tabindex="-1"><a class="header-anchor" href="#数值计算-7-2-mod-7-2" aria-hidden="true">#</a> 数值计算 + - * / % 7%2 = mod(7,2)</h2><ol><li>查询员工姓名，工资和年终奖(年终奖=5*月工资)</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span><span class="token number">5</span><span class="token operator">*</span>sal 年终奖 <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>查询商品标题，商品单价，库存和总价值（单价*库存）</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> title<span class="token punctuation">,</span>price<span class="token punctuation">,</span>num<span class="token punctuation">,</span>price<span class="token operator">*</span>num 总价值 <span class="token keyword">from</span> t_item<span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>查询每个员工的姓名和 加薪5块钱之后的工资</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token operator">+</span><span class="token number">5</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre></div><h2 id="日期相关" tabindex="-1"><a class="header-anchor" href="#日期相关" aria-hidden="true">#</a> 日期相关</h2><ol><li>SQL语言中的HelloWorld</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token string">&#39;HelloWorld&#39;</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>获取当前系统时间 now()</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t_date<span class="token punctuation">(</span>name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>birthday <span class="token keyword">datetime</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> t_date <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;刘德华&#39;</span><span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>获取当前的年月日，当前的时分秒 current当前</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> curdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>curtime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>从年月日时分秒中提取年月日 和 提取时分秒</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">date</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">time</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li>从完整的年月日时分秒中提取时间分量</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> extract<span class="token punctuation">(</span><span class="token keyword">year</span> <span class="token keyword">from</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> extract<span class="token punctuation">(</span><span class="token keyword">month</span> <span class="token keyword">from</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> extract<span class="token punctuation">(</span><span class="token keyword">day</span> <span class="token keyword">from</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> extract<span class="token punctuation">(</span><span class="token keyword">hour</span> <span class="token keyword">from</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> extract<span class="token punctuation">(</span><span class="token keyword">minute</span> <span class="token keyword">from</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> extract<span class="token punctuation">(</span><span class="token keyword">second</span> <span class="token keyword">from</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="6"><li>日期格式化</li></ol><ul><li>格式：date_format（时间,格式）</li><li>%Y 四位年 %y 2位年</li><li>%m 2位月 %c 1位月</li><li>%d 日</li><li>%H 24小时 %h 12小时</li><li>%i 分钟</li><li>%s 秒</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 把now() 转成2019年5月20号 15点15分15秒</span>
<span class="token keyword">select</span> date_format<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;%Y年%c月%d号 %H点%i分%s秒&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="7"><li>把非标准时间格式转成标准时间</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 把19.04.2019 15点36分20秒 转成标准时间</span>
 <span class="token keyword">select</span> str_to_date<span class="token punctuation">(</span><span class="token string">&quot;19.04.2019 15点36分20秒&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;%d.%m.%Y %H点%i分%s秒&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ifnull" tabindex="-1"><a class="header-anchor" href="#ifnull" aria-hidden="true">#</a> ifnull</h2><ul><li>ifnull(x,y)，对查询的列进行判定，如果x列的值为null则取y作为值返回</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code>修改奖金为<span class="token boolean">null</span>的值为<span class="token number">0</span>，不为<span class="token boolean">null</span>则不变
<span class="token keyword">update</span> emp <span class="token keyword">set</span> comm <span class="token operator">=</span> ifnull<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="聚合函数" tabindex="-1"><a class="header-anchor" href="#聚合函数" aria-hidden="true">#</a> 聚合函数</h2><ul><li>对查询的多条数据进行统计：平均值、最大值、最小值、求和、计数</li></ul><ol><li>平均值avg</li><li>最大值max(字段名)</li><li>最小值min(字段名)</li><li>求和sum(字段名)</li><li>统计数量count(字段名)</li></ol><h2 id="字符串相关" tabindex="-1"><a class="header-anchor" href="#字符串相关" aria-hidden="true">#</a> 字符串相关</h2><ol><li>字符串拼接 concat(s1,s2)</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># admm</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token string">&quot;ab&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;mm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>获取字符串长度 char_length(str);</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ename<span class="token punctuation">,</span>char_length<span class="token punctuation">(</span>ename<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>获取字符串出现的位置 instr(str,substr)</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> instr<span class="token punctuation">(</span><span class="token string">&quot;abcdefg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>转大写和转小写 upper() lower()</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> upper<span class="token punctuation">(</span><span class="token string">&#39;nba&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lower<span class="token punctuation">(</span><span class="token string">&#39;ABC&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="5"><li>截取字符串</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 从左边截取</span>
<span class="token keyword">select</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">&quot;abcdefg&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 从右边截取</span>
<span class="token keyword">select</span> <span class="token keyword">right</span><span class="token punctuation">(</span><span class="token string">&quot;abcdefg&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 自由截取substring(str,位置,长度)</span>
<span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">&quot;abcdefg&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="6"><li>去空白trim()</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> trim<span class="token punctuation">(</span><span class="token string">&quot;  a b   &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="7"><li>重复repeat()</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">repeat</span><span class="token punctuation">(</span><span class="token string">&#39;ab&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="8"><li>替换replace(&#39;abcdefg abc&#39;,&#39;b&#39;,&#39;m&#39;);</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">&#39;abcdefg abc&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;m&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="9"><li>反转reverse()</li></ol><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> reverse<span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>`,124);function i(u,d){return n(),e("div",null,[c,r,t(" more "),k])}const m=a(l,[["render",i],["__file","1910011302.html.vue"]]);export{m as default};
